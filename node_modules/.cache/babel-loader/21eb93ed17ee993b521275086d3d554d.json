{"ast":null,"code":"import _slicedToArray from\"D:/Study/scrimba/frontend developer career path/mod 13 Advanced React/speed_typing_test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from\"react\";function useWordGame(){var startingTime=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(startingTime),_useState4=_slicedToArray(_useState3,2),timer=_useState4[0],setTimer=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isTimeRunning=_useState6[0],setIsTimeRunning=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),wordCount=_useState8[0],setWordCount=_useState8[1];var textBoxRef=useRef(null);function handleChange(e){var value=e.target.value;setText(value);}function calculateWordCount(string){var wordArr=string.trim().split(' ');var filteredWords=wordArr.filter(function(word){return word!==\"\";});return filteredWords.length;}function startGame(){setIsTimeRunning(true);setTimer(startingTime);setText(\"\");textBoxRef.current.disabled=false;textBoxRef.current.focus();}function endGame(){setIsTimeRunning(false);setWordCount(calculateWordCount(text));}useEffect(function(){if(isTimeRunning&&timer>0){setTimeout(function(){setTimer(function(time){return time-1;});},1000);}else if(timer===0){endGame();}},[timer,isTimeRunning]);return{textBoxRef:textBoxRef,handleChange:handleChange,text:text,isTimeRunning:isTimeRunning,timer:timer,startGame:startGame,wordCount:wordCount};}export default useWordGame;","map":{"version":3,"names":["useState","useEffect","useRef","useWordGame","startingTime","text","setText","timer","setTimer","isTimeRunning","setIsTimeRunning","wordCount","setWordCount","textBoxRef","handleChange","e","value","target","calculateWordCount","string","wordArr","trim","split","filteredWords","filter","word","length","startGame","current","disabled","focus","endGame","setTimeout","time"],"sources":["D:/Study/scrimba/frontend developer career path/mod 13 Advanced React/speed_typing_test/src/useWordGame.js"],"sourcesContent":["import {useState,useEffect,useRef} from \"react\"\r\n\r\nfunction useWordGame(startingTime = 10){\r\n  const [text, setText] = useState('');\r\n  const [timer, setTimer] = useState(startingTime);\r\n  const [isTimeRunning, setIsTimeRunning] = useState(false);\r\n  const [wordCount, setWordCount] = useState(0);\r\n  const textBoxRef = useRef(null);\r\n\r\n  function handleChange(e){\r\n  const {value} = e.target\r\n  setText(value)\r\n  }\r\n\r\n  function calculateWordCount(string){\r\n    const wordArr = string.trim().split(' ')\r\n    const filteredWords = wordArr.filter(word => word!== \"\")\r\n    return filteredWords.length;\r\n  }\r\n\r\n  function startGame(){\r\n    setIsTimeRunning(true)\r\n    setTimer(startingTime)\r\n    setText(\"\")\r\n    textBoxRef.current.disabled = false;\r\n    textBoxRef.current.focus();\r\n  }\r\n\r\n  function endGame() {\r\n    setIsTimeRunning(false)\r\n    setWordCount(calculateWordCount(text))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(isTimeRunning && timer > 0){\r\n      setTimeout(() => {\r\n        setTimer(time => time - 1)\r\n      }, 1000)\r\n    }\r\n    else if(timer === 0){\r\n      endGame();  \r\n    }\r\n  },[timer,isTimeRunning])\r\n\r\n  return {textBoxRef, handleChange, text, isTimeRunning, timer, startGame, wordCount}\r\n\r\n}\r\n\r\nexport default useWordGame"],"mappings":"6KAAA,OAAQA,QAAR,CAAiBC,SAAjB,CAA2BC,MAA3B,KAAwC,OAAxC,CAEA,QAASC,YAAT,EAAuC,IAAlBC,aAAkB,2DAAH,EAAG,CACrC,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAA0BN,QAAQ,CAACI,YAAD,CAAlC,yCAAOG,KAAP,eAAcC,QAAd,eACA,eAA0CR,QAAQ,CAAC,KAAD,CAAlD,yCAAOS,aAAP,eAAsBC,gBAAtB,eACA,eAAkCV,QAAQ,CAAC,CAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eACA,GAAMC,WAAU,CAAGX,MAAM,CAAC,IAAD,CAAzB,CAEA,QAASY,aAAT,CAAsBC,CAAtB,CAAwB,CACxB,GAAOC,MAAP,CAAgBD,CAAC,CAACE,MAAlB,CAAOD,KAAP,CACAV,OAAO,CAACU,KAAD,CAAP,CACC,CAED,QAASE,mBAAT,CAA4BC,MAA5B,CAAmC,CACjC,GAAMC,QAAO,CAAGD,MAAM,CAACE,IAAP,GAAcC,KAAd,CAAoB,GAApB,CAAhB,CACA,GAAMC,cAAa,CAAGH,OAAO,CAACI,MAAR,CAAe,SAAAC,IAAI,QAAIA,KAAI,GAAI,EAAZ,EAAnB,CAAtB,CACA,MAAOF,cAAa,CAACG,MAArB,CACD,CAED,QAASC,UAAT,EAAoB,CAClBjB,gBAAgB,CAAC,IAAD,CAAhB,CACAF,QAAQ,CAACJ,YAAD,CAAR,CACAE,OAAO,CAAC,EAAD,CAAP,CACAO,UAAU,CAACe,OAAX,CAAmBC,QAAnB,CAA8B,KAA9B,CACAhB,UAAU,CAACe,OAAX,CAAmBE,KAAnB,GACD,CAED,QAASC,QAAT,EAAmB,CACjBrB,gBAAgB,CAAC,KAAD,CAAhB,CACAE,YAAY,CAACM,kBAAkB,CAACb,IAAD,CAAnB,CAAZ,CACD,CAEDJ,SAAS,CAAC,UAAM,CACd,GAAGQ,aAAa,EAAIF,KAAK,CAAG,CAA5B,CAA8B,CAC5ByB,UAAU,CAAC,UAAM,CACfxB,QAAQ,CAAC,SAAAyB,IAAI,QAAIA,KAAI,CAAG,CAAX,EAAL,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAJD,IAKK,IAAG1B,KAAK,GAAK,CAAb,CAAe,CAClBwB,OAAO,GACR,CACF,CATQ,CASP,CAACxB,KAAD,CAAOE,aAAP,CATO,CAAT,CAWA,MAAO,CAACI,UAAU,CAAVA,UAAD,CAAaC,YAAY,CAAZA,YAAb,CAA2BT,IAAI,CAAJA,IAA3B,CAAiCI,aAAa,CAAbA,aAAjC,CAAgDF,KAAK,CAALA,KAAhD,CAAuDoB,SAAS,CAATA,SAAvD,CAAkEhB,SAAS,CAATA,SAAlE,CAAP,CAED,CAED,cAAeR,YAAf"},"metadata":{},"sourceType":"module"}