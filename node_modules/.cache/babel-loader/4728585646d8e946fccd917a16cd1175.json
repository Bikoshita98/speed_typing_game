{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\n\nfunction useWordGame() {\n  _s();\n\n  let startingTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  const [text, setText] = useState('');\n  const [timer, setTimer] = useState(startingTime);\n  const [isTimeRunning, setIsTimeRunning] = useState(false);\n  const [wordCount, setWordCount] = useState(0);\n  const textBoxRef = useRef(null);\n\n  function handleChange(e) {\n    const {\n      value\n    } = e.target;\n    setText(value);\n  }\n\n  function calculateWordCount(string) {\n    const wordArr = string.trim().split(' ');\n    const filteredWords = wordArr.filter(word => word !== \"\");\n    return filteredWords.length;\n  }\n\n  function startGame() {\n    setIsTimeRunning(true);\n    setTimer(startingTime);\n    setText(\"\");\n    textBoxRef.current.disabled = false;\n    textBoxRef.current.focus();\n  }\n\n  function endGame() {\n    setIsTimeRunning(false);\n    setWordCount(calculateWordCount(text));\n  }\n\n  useEffect(() => {\n    if (isTimeRunning && timer > 0) {\n      setTimeout(() => {\n        setTimer(time => time - 1);\n      }, 1000);\n    } else if (timer === 0) {\n      endGame();\n    }\n  }, [timer, isTimeRunning]);\n  return {\n    textBoxRef,\n    handleChange,\n    text,\n    isTimeRunning,\n    timer,\n    startGame,\n    wordCount\n  };\n}\n\n_s(useWordGame, \"GgD6aVBJyb3Pc8sAyReMcKJcj34=\");\n\nexport default useWordGame;","map":{"version":3,"names":["useState","useEffect","useRef","useWordGame","startingTime","text","setText","timer","setTimer","isTimeRunning","setIsTimeRunning","wordCount","setWordCount","textBoxRef","handleChange","e","value","target","calculateWordCount","string","wordArr","trim","split","filteredWords","filter","word","length","startGame","current","disabled","focus","endGame","setTimeout","time"],"sources":["D:/Study/scrimba/frontend developer career path/mod 13 Advanced React/speed_typing_game/src/useWordGame.js"],"sourcesContent":["import {useState,useEffect,useRef} from \"react\"\r\n\r\nfunction useWordGame(startingTime = 10){\r\n  const [text, setText] = useState('');\r\n  const [timer, setTimer] = useState(startingTime);\r\n  const [isTimeRunning, setIsTimeRunning] = useState(false);\r\n  const [wordCount, setWordCount] = useState(0);\r\n  const textBoxRef = useRef(null);\r\n\r\n  function handleChange(e){\r\n  const {value} = e.target\r\n  setText(value)\r\n  }\r\n\r\n  function calculateWordCount(string){\r\n    const wordArr = string.trim().split(' ')\r\n    const filteredWords = wordArr.filter(word => word!== \"\")\r\n    return filteredWords.length;\r\n  }\r\n\r\n  function startGame(){\r\n    setIsTimeRunning(true)\r\n    setTimer(startingTime)\r\n    setText(\"\")\r\n    textBoxRef.current.disabled = false;\r\n    textBoxRef.current.focus();\r\n  }\r\n\r\n  function endGame() {\r\n    setIsTimeRunning(false)\r\n    setWordCount(calculateWordCount(text))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(isTimeRunning && timer > 0){\r\n      setTimeout(() => {\r\n        setTimer(time => time - 1)\r\n      }, 1000)\r\n    }\r\n    else if(timer === 0){\r\n      endGame();  \r\n    }\r\n  },[timer,isTimeRunning])\r\n\r\n  return {textBoxRef, handleChange, text, isTimeRunning, timer, startGame, wordCount}\r\n\r\n}\r\n\r\nexport default useWordGame"],"mappings":";;AAAA,SAAQA,QAAR,EAAiBC,SAAjB,EAA2BC,MAA3B,QAAwC,OAAxC;;AAEA,SAASC,WAAT,GAAuC;EAAA;;EAAA,IAAlBC,YAAkB,uEAAH,EAAG;EACrC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAACI,YAAD,CAAlC;EACA,MAAM,CAACK,aAAD,EAAgBC,gBAAhB,IAAoCV,QAAQ,CAAC,KAAD,CAAlD;EACA,MAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,CAAD,CAA1C;EACA,MAAMa,UAAU,GAAGX,MAAM,CAAC,IAAD,CAAzB;;EAEA,SAASY,YAAT,CAAsBC,CAAtB,EAAwB;IACxB,MAAM;MAACC;IAAD,IAAUD,CAAC,CAACE,MAAlB;IACAX,OAAO,CAACU,KAAD,CAAP;EACC;;EAED,SAASE,kBAAT,CAA4BC,MAA5B,EAAmC;IACjC,MAAMC,OAAO,GAAGD,MAAM,CAACE,IAAP,GAAcC,KAAd,CAAoB,GAApB,CAAhB;IACA,MAAMC,aAAa,GAAGH,OAAO,CAACI,MAAR,CAAeC,IAAI,IAAIA,IAAI,KAAI,EAA/B,CAAtB;IACA,OAAOF,aAAa,CAACG,MAArB;EACD;;EAED,SAASC,SAAT,GAAoB;IAClBjB,gBAAgB,CAAC,IAAD,CAAhB;IACAF,QAAQ,CAACJ,YAAD,CAAR;IACAE,OAAO,CAAC,EAAD,CAAP;IACAO,UAAU,CAACe,OAAX,CAAmBC,QAAnB,GAA8B,KAA9B;IACAhB,UAAU,CAACe,OAAX,CAAmBE,KAAnB;EACD;;EAED,SAASC,OAAT,GAAmB;IACjBrB,gBAAgB,CAAC,KAAD,CAAhB;IACAE,YAAY,CAACM,kBAAkB,CAACb,IAAD,CAAnB,CAAZ;EACD;;EAEDJ,SAAS,CAAC,MAAM;IACd,IAAGQ,aAAa,IAAIF,KAAK,GAAG,CAA5B,EAA8B;MAC5ByB,UAAU,CAAC,MAAM;QACfxB,QAAQ,CAACyB,IAAI,IAAIA,IAAI,GAAG,CAAhB,CAAR;MACD,CAFS,EAEP,IAFO,CAAV;IAGD,CAJD,MAKK,IAAG1B,KAAK,KAAK,CAAb,EAAe;MAClBwB,OAAO;IACR;EACF,CATQ,EASP,CAACxB,KAAD,EAAOE,aAAP,CATO,CAAT;EAWA,OAAO;IAACI,UAAD;IAAaC,YAAb;IAA2BT,IAA3B;IAAiCI,aAAjC;IAAgDF,KAAhD;IAAuDoB,SAAvD;IAAkEhB;EAAlE,CAAP;AAED;;GA5CQR,W;;AA8CT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}